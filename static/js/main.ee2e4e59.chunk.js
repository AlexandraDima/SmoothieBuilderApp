(this["webpackJsonpdrinks-order"]=this["webpackJsonpdrinks-order"]||[]).push([[0],{10:function(e,t,a){e.exports={berries:"SmoothieIngredient_berries__1Y7cT",mango:"SmoothieIngredient_mango__OvGaP",vanilla:"SmoothieIngredient_vanilla__3V0mD",ginger:"SmoothieIngredient_ginger__2JukF",spinach:"SmoothieIngredient_spinach__3-y-m",kale:"SmoothieIngredient_kale__3wn2X",seeds:"SmoothieIngredient_seeds__1B8Hn",almondButter:"SmoothieIngredient_almondButter__1qev8",milk:"SmoothieIngredient_milk__1MzoL"}},13:function(e,t,a){e.exports={BuildControl:"BuildControl_BuildControl__37gXI",Label:"BuildControl_Label__2th5b",Less:"BuildControl_Less__2_tKg",More:"BuildControl_More__3qDVk"}},14:function(e,t,a){e.exports={mainContainer:"SmoothieBuilder_mainContainer__2c7re",left:"SmoothieBuilder_left__2TPVs",right:"SmoothieBuilder_right__1wV9R",Smoothie:"SmoothieBuilder_Smoothie__37jGr"}},22:function(e,t,a){e.exports={BuildControls:"BuildControls_BuildControls__1Br-4",OrderButton:"BuildControls_OrderButton__Bo48U",enable:"BuildControls_enable__1UkV3"}},23:function(e,t,a){e.exports={Button:"Button_Button__uLt1p",Success:"Button_Success__-TGiT",Danger:"Button_Danger__9c5kB"}},3:function(e,t,a){e.exports={Smoothie:"Smoothie_Smoothie__1RuBn",glass:"Smoothie_glass__3QZhU",neck:"Smoothie_neck__37iXy",lid:"Smoothie_lid__MVQl3",top:"Smoothie_top__3REh-",mid:"Smoothie_mid__3S5-m",bot:"Smoothie_bot__1arDW",ingredientsAll:"Smoothie_ingredientsAll__1CM_T",textMessage:"Smoothie_textMessage__1fZjH"}},38:function(e,t,a){e.exports={Content:"Layout_Content__yVG1y"}},39:function(e,t,a){e.exports={Logo:"Logo_Logo__3u-dc"}},40:function(e,t,a){e.exports=a.p+"static/media/logo.f8385f67.svg"},41:function(e,t,a){e.exports={Modal:"Modal_Modal__2-rFs"}},42:function(e,t,a){e.exports={Backdrop:"Backdrop_Backdrop__1r8W0"}},44:function(e,t,a){e.exports={Loader:"Spinner_Loader__16BTB",load2:"Spinner_load2__rWQCr"}},46:function(e,t,a){e.exports={CheckoutSummary:"CheckoutSummary_CheckoutSummary__2glmp"}},50:function(e,t,a){e.exports=a(79)},55:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(37),i=a.n(o),c=(a(55),a(21)),l=a(1),s=function(e){return e.children},d=a(38),u=a.n(d),m=(a(56),a(49)),h=a(39),p=a.n(h),g=a(40),_=a.n(g),v=function(){return r.a.createElement("div",{className:p.a.Logo},r.a.createElement("img",{src:_.a,alt:"SmoothieLogo"}))},b=function(){var e=Object(n.useState)({menu:!1}),t=Object(m.a)(e,2),a=t[0],o=t[1],i=a.menu?"show":"";return r.a.createElement("nav",{className:"navbar navbar-expand-lg pt-0 pb-0 navbar-light mr-auto"},r.a.createElement("a",{className:"navbar-brand",href:"/"},r.a.createElement(v,null)),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse",onClick:function(){o({menu:!a.menu})},"data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:" collapse navbar-collapse + ".concat(i),id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement("a",{className:"nav-link",href:"/"},"Smoothie builder")))))},E=function(e){return r.a.createElement(s,null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement(b,null)),r.a.createElement("main",{className:u.a.Content},e.children))},f=a(19),k=a(15),S=a(16),y=a(18),C=a(17),N=a(48),B=a(3),O=a.n(B),w=a(10),j=a.n(w),x=function(e){var t=null;switch(e.type){case"milk":t=r.a.createElement("div",{className:j.a.milk});break;case"spinach":t=r.a.createElement("div",{className:j.a.spinach});break;case"berries":t=r.a.createElement("div",{className:j.a.berries});break;case"seeds":t=r.a.createElement("div",{className:j.a.seeds});break;case"vanilla":t=r.a.createElement("div",{className:j.a.vanilla});break;default:t=null}return t},I=function(e){var t=Object.keys(e.ingredients).map((function(t){return Object(N.a)(Array(e.ingredients[t])).map((function(e,a){return r.a.createElement(x,{key:t+a,type:t})}))})).reduce((function(e,t){return e.concat(t)}),[]);return 0===t.length&&(t=r.a.createElement("p",{className:O.a.textMessage},"Please ",r.a.createElement("br",null),"start ",r.a.createElement("br",null),"adding ",r.a.createElement("br",null)," ingredients")),r.a.createElement("div",{className:O.a.Smoothie},r.a.createElement("div",{className:O.a.glass},r.a.createElement("div",{className:O.a.neck}),r.a.createElement("div",{className:O.a.neckBottom}),r.a.createElement("div",{className:O.a.shine}),r.a.createElement("div",{className:O.a.shine2}),r.a.createElement("div",{className:"".concat(O.a.lid," ").concat(O.a.top)}),r.a.createElement("div",{className:"".concat(O.a.lid," ").concat(O.a.mid)}),r.a.createElement("div",{className:"".concat(O.a.lid," ").concat(O.a.bot)}),r.a.createElement("div",{className:O.a.cupStroke}),r.a.createElement("div",{className:O.a.ingredientsAll},t,r.a.createElement(x,{type:"milk"}))))},L=a(13),M=a.n(L),P=function(e){return r.a.createElement("div",{className:M.a.BuildControl},r.a.createElement("div",{className:M.a.Label},e.label),r.a.createElement("button",{className:M.a.Less,onClick:e.removed,disabled:e.disabled},"-"),r.a.createElement("button",{className:M.a.More,onClick:e.added},"+"))},T=a(22),D=a.n(T),V=[{category:"Veggies",label:"Spinach",type:"spinach"},{category:"Fruits",label:"Berries",type:"berries"},{category:"Fat",label:"Seeds",type:"seeds"},{category:"Flavours",label:"Vanilla",type:"vanilla"}],U=function(e){return r.a.createElement("div",{className:D.a.BuildControls},r.a.createElement("p",null,"Current price: ",e.price.toFixed(2)),V.map((function(t){return r.a.createElement(P,{key:t.label,added:function(){return e.addIngredient(t.type)},removed:function(){return e.removeIngredient(t.type)},disabled:e.disabled[t.type],label:t.label})})),r.a.createElement("button",{className:D.a.OrderButton,disabled:!e.purchasable,onClick:e.ordered},"Order now"))},A=a(14),F=a.n(A),R=a(41),W=a.n(R),G=a(42),H=a.n(G),Y=function(e){return e.show?r.a.createElement("div",{className:H.a.Backdrop,onClick:e.clicked}):null},J=function(e){return r.a.createElement(s,null,r.a.createElement(Y,{show:e.show,clicked:e.modalClosed}),r.a.createElement("div",{style:{transform:e.show?"translateY(0)":"translateY(-100vh)",opacity:e.show?"0.9":"0"},className:W.a.Modal},e.children))},Q=a(23),X=a.n(Q),q=function(e){return r.a.createElement("button",{className:[X.a.Button,X.a[e.btnType]].join(" "),onClick:e.clicked},e.children)},z=function(e){var t=Object.keys(e.ingredients).map((function(t){return r.a.createElement("li",{key:t},r.a.createElement("span",{style:{textTransform:"capitalize"}},t),":",e.ingredients[t])}));return console.log(t),r.a.createElement("div",null,r.a.createElement("h1",null,"Your order"),r.a.createElement("p",null,"Delicious smoothie with the following ingredients:"),r.a.createElement("ul",null,t),r.a.createElement("p",null,r.a.createElement("b",null,"Total price: ",e.price)),r.a.createElement("p",null,"Continue to checkout?"),r.a.createElement(q,{clicked:e.cancelOrder,btnType:"Danger"},"CANCEL"),r.a.createElement(q,{btnType:"Success",clicked:e.continueOrder},"CONTINUE"))},Z=a(43),K=a.n(Z).a.create({baseURL:"https://react-smoothie-order.firebaseio.com/"}),$=a(44),ee=a.n($),te=function(){return r.a.createElement("div",{className:ee.a.Loader},"Loading...")},ae={spinach:10,berries:15,seeds:5,vanilla:3},ne=function(e){Object(y.a)(a,e);var t=Object(C.a)(a);function a(){var e;Object(k.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={ingredients:null,totalPrice:20,purchasable:!1,purchasing:!1,loading:!1,error:!1},e.updatePurchaseState=function(t){var a=Object.keys(t).map((function(e){return t[e]})).reduce((function(e,t){return e+t}),0);console.log(a),e.setState({purchasable:a>0})},e.addIngredient=function(t){var a=e.state.ingredients[t]+1,n=Object(f.a)({},e.state.ingredients);n[t]=a;var r=ae[t],o=e.state.totalPrice+r;e.setState({ingredients:n,totalPrice:o}),e.updatePurchaseState(n)},e.removeIngredient=function(t){var a=e.state.ingredients[t];if(!(a<=0)){var n=a-1,r=Object(f.a)({},e.state.ingredients);r[t]=n;var o=ae[t],i=e.state.totalPrice-o;e.setState({ingredients:r,totalPrice:i}),e.updatePurchaseState(r)}},e.purchaseHandler=function(){e.setState({purchasing:!0})},e.closeModal=function(){e.setState({purchasing:!1})},e.continueOrder=function(){var t=[];for(var a in e.state.ingredients)t.push(encodeURIComponent(a)+"="+encodeURIComponent(e.state.ingredients[a]));var n=t.join("&");e.props.history.push({pathname:"/checkout",search:"?"+n})},e}return Object(S.a)(a,[{key:"componentDidMount",value:function(){var e=this;K.get("https://react-smoothie-order.firebaseio.com/ingredients.json").then((function(t){e.setState({ingredients:t.data})})).catch((function(t){e.setState({error:!0})}))}},{key:"render",value:function(){var e=Object(f.a)({},this.state.ingredients);for(var t in e)e[t]=e[t]<=0;var a=null;this.state.ingredients&&(a=r.a.createElement(z,{cancelOrder:this.closeModal,continueOrder:this.continueOrder,ingredients:this.state.ingredients,price:this.state.totalPrice.toFixed(2)}));var n=r.a.createElement(te,null);return this.state.ingredients&&(n=r.a.createElement("div",{className:"row mx-auto "},r.a.createElement("div",{className:"col-md-6 pl-0 pr-0 ".concat(F.a.mainContainer," ").concat(F.a.left)},r.a.createElement(I,{ingredients:this.state.ingredients})),r.a.createElement("div",{className:"col-md-6 pl-0 pr-0 ".concat(F.a.mainContainer," ").concat(F.a.right)},r.a.createElement(U,{addIngredient:this.addIngredient,removeIngredient:this.removeIngredient,disabled:e,price:this.state.totalPrice,purchasable:this.state.purchasable,ordered:this.purchaseHandler})))),this.state.loading&&(a=this.state.error?"Ingredients can't be loaded":r.a.createElement(te,null)),r.a.createElement("div",{className:"container-fluid"},r.a.createElement(J,{show:this.state.purchasing,modalClosed:this.closeModal},a),n)}}]),a}(n.Component),re=a(45),oe=a(46),ie=a.n(oe),ce=function(e){return r.a.createElement("div",{className:ie.a.CheckoutSummary},r.a.createElement("h1",null,"Enjoy your smoothie"),r.a.createElement(I,{ingredients:e.ingredients}))},le=function(e){Object(y.a)(a,e);var t=Object(C.a)(a);function a(){var e;Object(k.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={ingredients:{berries:1,seeds:1,spinach:1,vanilla:1}},e.checkoutCancelled=function(){e.props.history.goBack()},e.checkoutContinued=function(){e.props.history.replace("/checkout/contact")},e}return Object(S.a)(a,[{key:"componentDidMount",value:function(){var e,t=new URLSearchParams(this.props.location.search),a={},n=Object(re.a)(t.entries());try{for(n.s();!(e=n.n()).done;){var r=e.value;a[r[0]]=+r[1]}}catch(o){n.e(o)}finally{n.f()}this.setState({ingredients:a})}},{key:"render",value:function(){return r.a.createElement(ce,{ingredients:this.state.ingredients,checkoutCancelled:this.checkoutCancelled,checkoutContinued:this.checkoutContinued})}}]),a}(n.Component);var se=function(){return r.a.createElement("div",null,r.a.createElement(E,null,r.a.createElement(l.a,{path:"/checkout",component:le}),r.a.createElement(l.a,{path:"/",exact:!0,component:ne})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(c.a,null,r.a.createElement(se,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[50,1,2]]]);
//# sourceMappingURL=main.ee2e4e59.chunk.js.map